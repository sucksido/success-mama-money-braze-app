"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9834],{9834:(y,c,s)=>{s.r(c),s.d(c,{HomePageModule:()=>x});var l=s(177),i=s(8974),u=s(4341),r=s(70),m=s(467),t=s(4438),d=s(7425),g=s(8359),p=s(9306);function b(n,O){if(1&n&&(t.j41(0,"ion-badge",3),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.unreadCount>99?"99+":e.unreadCount," ")}}let h=(()=>{class n{constructor(e,o){this.router=e,this.inboxService=o,this.unreadCount=0,this.subscription=new g.yU}ngOnInit(){this.subscription.add(this.inboxService.unreadCount$.subscribe(e=>{this.unreadCount=e}))}ngOnDestroy(){this.subscription.unsubscribe()}navigateToInbox(){this.router.navigate(["/inbox"])}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(r.Ix),t.rXU(p.U))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-inbox-button"]],decls:3,vars:3,consts:[["fill","clear",1,"inbox-button",3,"click"],["name","notifications"],["color","danger","class","notification-badge",4,"ngIf"],["color","danger",1,"notification-badge"]],template:function(o,a){1&o&&(t.j41(0,"ion-button",0),t.bIt("click",function(){return a.navigateToInbox()}),t.nrm(1,"ion-icon",1),t.DNE(2,b,2,1,"ion-badge",2),t.k0s()),2&o&&(t.R7$(),t.AVh("has-notifications",a.unreadCount>0),t.R7$(),t.Y8G("ngIf",a.unreadCount>0))},dependencies:[l.bT,i.In,i.Jm,i.iq],styles:[".inbox-button[_ngcontent-%COMP%]{position:relative}.inbox-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;transition:all .3s ease}.inbox-button[_ngcontent-%COMP%]   ion-icon.has-notifications[_ngcontent-%COMP%]{color:var(--ion-color-primary);animation:_ngcontent-%COMP%_pulse 2s infinite}.inbox-button[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;min-width:18px;height:18px;font-size:.7rem;border-radius:50%;display:flex;align-items:center;justify-content:center}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}"]})}}return n})();const f=[{path:"",component:(()=>{class n{constructor(e,o){this.brazeService=e,this.toastController=o}sendInboxTestEvent(){var e=this;return(0,m.A)(function*(){try{e.brazeService.logCustomEvent("INBOX_MESSAGE_TEST",{source:"homepage",timestamp:(new Date).toISOString(),user_action:"test_inbox_message"}),yield(yield e.toastController.create({message:"Inbox test event sent! You should receive a push notification shortly.",duration:3e3,position:"bottom",color:"success"})).present(),console.log("INBOX_MESSAGE_TEST event sent successfully")}catch(o){console.error("Failed to send inbox test event:",o),yield(yield e.toastController.create({message:"Failed to send test event. Please try again.",duration:3e3,position:"bottom",color:"danger"})).present()}})()}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(d.W),t.rXU(i.K_))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-home"]],decls:30,vars:2,consts:[[3,"translucent"],["slot","end"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","container"],[1,"welcome-section"],[1,"test-section"],["expand","block","color","primary",3,"click"],["name","send","slot","start"],[1,"help-text"]],template:function(o,a){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Mama Money "),t.k0s(),t.j41(4,"ion-buttons",1),t.nrm(5,"app-inbox-button"),t.k0s()()(),t.j41(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),t.EFF(10,"Mama Money"),t.k0s()()(),t.j41(11,"div",5)(12,"div",6)(13,"h1"),t.EFF(14,"Welcome to Mama Money"),t.k0s(),t.j41(15,"p"),t.EFF(16,"Test the push notification and inbox system"),t.k0s()(),t.j41(17,"div",7)(18,"ion-card")(19,"ion-card-header")(20,"ion-card-title"),t.EFF(21,"Test Inbox Notifications"),t.k0s(),t.j41(22,"ion-card-subtitle"),t.EFF(23,"Send a test event to trigger push notification"),t.k0s()(),t.j41(24,"ion-card-content")(25,"ion-button",8),t.bIt("click",function(){return a.sendInboxTestEvent()}),t.nrm(26,"ion-icon",9),t.EFF(27," Send Test Event "),t.k0s(),t.j41(28,"p",10),t.EFF(29,' This will send an "INBOX_MESSAGE_TEST" event to Braze, which should trigger a push notification and add a new content card to your inbox. '),t.k0s()()()()()()),2&o&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("fullscreen",!0))},dependencies:[i.Jm,i.QW,i.b_,i.I9,i.ME,i.HW,i.tN,i.W9,i.eU,i.iq,i.BC,i.ai,h],styles:["#container[_ngcontent-%COMP%]{text-align:center;padding:20px}.welcome-section[_ngcontent-%COMP%]{margin-bottom:2rem}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-bottom:.5rem}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:1.1rem}.test-section[_ngcontent-%COMP%]{margin-top:2rem}.test-section[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0 auto;max-width:400px}.test-section[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:var(--ion-color-medium);text-align:left}ion-button[_ngcontent-%COMP%]{margin:1rem 0}"]})}}return n})()}];let v=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[r.iI.forChild(f),r.iI]})}}return n})();var C=s(3887);let x=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[l.MD,u.YN,i.bv,v,C.G]})}}return n})()}}]);